{% extends "base.html" %}
 
{% set pagination = pagination %}
 
{% macro pagination() %}
    {% if total_pages > 1 %}
    <div class="col-12">
        <nav aria-label="Navigation des pages" class="my-4">
            <ul class="pagination justify-content-center">
                {% if current_page > 1 %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ current_page - 1 }}">
                        <i class="fas fa-chevron-left"></i> Précédent
                    </a>
                </li>
                {% endif %}
               
                {% for page in range(1, total_pages + 1) %}
                    {% if page == current_page %}
                    <li class="page-item active">
                        <span class="page-link">{{ page }}</span>
                    </li>
                    {% else %}
                        {% if page <= 3 or page >= total_pages - 2 or (page >= current_page - 1 and page <= current_page + 1) %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page }}">{{ page }}</a>
                        </li>
                        {% elif page == 4 or page == total_pages - 3 %}
                        <li class="page-item disabled">
                            <span class="page-link">...</span>
                        </li>
                        {% endif %}
                    {% endif %}
                {% endfor %}
               
                {% if current_page < total_pages %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ current_page + 1 }}">
                        Suivant <i class="fas fa-chevron-right"></i>
                    </a>
                </li>
                {% endif %}
            </ul>
        </nav>
    </div>
    {% endif %}
{% endmacro %}
